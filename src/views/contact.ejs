<!DOCTYPE html>
<html lang="en">
	<head>
		<!-- Meta tag Keywords -->
		<meta
		name="description"
		content="Contact IEEE student chapter of SIES GST, Navi Mumbai."
		/>
		<meta
			name="keywords"
			content="IEEE, ieee, sies, gst, siesgst, SIESGST, official, student, website, contact, Contact us"
		/>
		<!--whatsapp and fb-->
		<meta
			property="og:description"
			content="Contact IEEE student chapter of SIES GST, Navi Mumbai."
		/>
		<meta property="og:image:alt" content="IEEE SIES GST" />
		<!--twitter-->
		<meta
			property="twitter:description"
			content="Contact IEEE student chapter of SIES GST, Navi Mumbai."
		/>
		<!-- //Meta tag Keywords -->
		<%- include('./partials/head-tag.ejs') %>

		<script>
			function sendMessage() {
				const form = new FormData(document.getElementById('contactSubmit'));
				document.getElementById('submitBtn').disabled = true;;
				
				let formBody = [];
				for (let key of form.keys()) {
					const encodedKey = encodeURIComponent(key);
					const encodedValue = encodeURIComponent(form.get(key));
					formBody.push(encodedKey + '=' + encodedValue);
				}
				formBody = formBody.join('&');

				fetch('/contact', {
					method: 'POST',
					headers: {
						'Content-Type': 'application/x-www-form-urlencoded'
					},
					body: formBody
				})
					.then((response) => response.json())
					.then((data) => {
						alert(data.message);
						document.getElementById('submitBtn').disabled = false;
						window.location.reload();
					})
			}
		</script>
	</head>
	<body class="contact-bg">
		<div class="spinner-border text-light" role="status">
			<span class="visually-hidden">Loading...</span>
		</div>
        <%- include('./partials/navbar.ejs') %>
		<h3
			class="
				about-headlines
				text-center
				pt-5
				pb-3
				fs-2
				fw-bolder
				text-white
			"
		>
			<span class="position-relative underline-overall-orange"
				>CONTACT US</span
			>
		</h3>
		<div class="container">
			<div class="mx-lg-5">
				<div
					class="
						contact-box
						border
						rounded
						text-left
						mt-5
						mx-3 mx-lg-5
						shadow
					"
				>
					<div class="half-circle"></div>
					<h1 class="pt-5 contact-head">
						Fill the form.
						<p>It's easy.</p>
					</h1>
					<div class="row m-5">
						<div class="col-md me-5">
							<form id="contactSubmit" action="/contact" method="post">
								<div class="row g-3 mb-3">
									<div class="col-sm">
										<input
											type="text"
											required
											class="input-space px-2 py-2  mt-md-3"
											placeholder="First name"
											name="firstName"
											id = "firstName"
										/>
									</div>
									<div class="col-sm">
										<input
											type="text"
											required
											class="input-space px-2 py-2 mt-md-3"
											placeholder="Last name"
											name="lastName"
											id = "lastName"
										/>
									</div>
								</div>
								<input
									type="email"
									required
									class="my-3 input-space px-2 py-2"
									placeholder="Email"
									name="email"
									id = "emailId"
								/>
								<input
									type="text"
									required
									class="my-3 input-space px-2 py-2"
									placeholder="phone Number"
									name="phoneNumber"
									id = "phoneNo"
								/>
								<input
									type="text"
									required
									class="my-3 input-space px-2 py-2"
									placeholder="Your message"
									name="message"
									id="message"
								/>
								<button
									type="submit"
									class="px-4 py-2 submit-contact fs-6"
									id="submitBtn"
								>
									Submit
								</button>
							</form>
						</div>
						<div
							class="
								col-md
								mt-sm-3
								contact-vertical
								d-none d-lg-block
							"
						>
							<div class="p-2 contact-r-text">
								<h2>Get in touch :)</h2>
								<p class="pe-5">
									Want to get in touch? We'd love to hear from
									you. leave a message and we'll reach out to
									you soon!
								</p>
								<p class="pe-5">
									Let's get this conversation started. Tell us
									a bit about yourself, and we'll get in
									touchas soon as we can.
								</p>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<br />
		<br>
        <%- include('./partials/footer.ejs') %>
		<script>
			document
				.getElementById('contactSubmit')
				.addEventListener('submit', (data) => {
					data.preventDefault();
					sendMessage();
				});
		</script>
	</body>
</html>
